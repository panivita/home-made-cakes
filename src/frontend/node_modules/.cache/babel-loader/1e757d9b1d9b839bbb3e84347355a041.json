{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\cake-project\\\\src\\\\frontend\\\\src\\\\pages\\\\booking-page.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport Rater from \"react-rater\";\nimport \"react-rater/lib/react-rater.css\";\nimport AddReservationForm from \"./form-booking-page\";\nimport cupcakeImagePath from \"../img/cupcake.png\";\nimport cakesImagePath from \"../img/cakes.png\";\nimport \"./booking-page.css\";\n\nconst CakeWithReviews = ({\n  url,\n  title,\n  description,\n  max_reservations,\n  price,\n  review_description,\n  stars,\n  onSubmit\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"container\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  src: url,\n  className: \"img-cake\",\n  alt: \"cupcake\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(\"section\", {\n  className: \"cake-container\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }\n}, title), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }\n}, description), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"b\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 11\n  }\n}, \"Servings:\"), \" \", max_reservations), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"b\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 11\n  }\n}, \"Price:\"), \" \", price, \" dkk\"), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"cupcake-line\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"line-left\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 11\n  }\n}), /*#__PURE__*/React.createElement(\"img\", {\n  src: cupcakeImagePath,\n  alt: \"cupcake\",\n  className: \"cupcake-img\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 11\n  }\n}), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"line-right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 11\n  }\n})), /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }\n}, \"Review\"), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(Rater, {\n  rating: stars,\n  total: 5,\n  interactive: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 11\n  }\n})), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }\n}, review_description))), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"cakes-line\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"line-left\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(\"img\", {\n  src: cakesImagePath,\n  alt: \"thre cakes\",\n  className: \"cakes-img\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"line-right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 7\n  }\n})), /*#__PURE__*/React.createElement(\"section\", {\n  className: \"form-container\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"description\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }\n}, \"Please contact me if you would like to order or discuss a celebration cake design. Let me help you make your own happy memories by me creating the perfect cake for you. Every cake I create with a little bit of love given by me.\")), /*#__PURE__*/React.createElement(AddReservationForm, {\n  onSubmit: onSubmit,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 7\n  }\n})));\n\nexport const BookingPage = () => {\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [meals, setMeals] = useState();\n  useEffect(() => {\n    (async () => {\n      const response = await fetch(\"/api/meals/\" + id);\n      const result = await response.json();\n      setMeals(result);\n    })();\n  }, [id]);\n\n  const onSubmit = ({\n    first_name,\n    last_name,\n    email,\n    country_code,\n    phone,\n    number_of_guests\n  }) => {\n    fetch(\"/api/reservations/\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        first_name: first_name,\n        last_name: last_name,\n        email: email,\n        country_code: country_code,\n        phone: phone,\n        number_of_guests: number_of_guests,\n        meal_id: id\n      })\n    }).then(() => {\n      history.push(\"/thank\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"booking-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, meals && meals.map(m => /*#__PURE__*/React.createElement(CakeWithReviews, Object.assign({\n    key: m.id\n  }, m, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }))));\n};","map":{"version":3,"sources":["C:/Projects/cake-project/src/frontend/src/pages/booking-page.js"],"names":["React","useState","useEffect","useParams","useHistory","Rater","AddReservationForm","cupcakeImagePath","cakesImagePath","CakeWithReviews","url","title","description","max_reservations","price","review_description","stars","onSubmit","BookingPage","id","history","meals","setMeals","response","fetch","result","json","first_name","last_name","email","country_code","phone","number_of_guests","method","headers","Accept","body","JSON","stringify","meal_id","then","push","map","m"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport Rater from \"react-rater\";\r\nimport \"react-rater/lib/react-rater.css\";\r\nimport AddReservationForm from \"./form-booking-page\";\r\nimport cupcakeImagePath from \"../img/cupcake.png\";\r\nimport cakesImagePath from \"../img/cakes.png\";\r\nimport \"./booking-page.css\";\r\n\r\nconst CakeWithReviews = ({\r\n  url,\r\n  title,\r\n  description,\r\n  max_reservations,\r\n  price,\r\n  review_description,\r\n  stars,\r\n  onSubmit,\r\n}) => (\r\n  <>\r\n    <div className=\"container\">\r\n      <img src={url} className=\"img-cake\" alt=\"cupcake\"></img>\r\n      <section className=\"cake-container\">\r\n        <h2>{title}</h2>\r\n        <p>{description}</p>\r\n        <p>\r\n          <b>Servings:</b> {max_reservations}\r\n        </p>\r\n        <p>\r\n          <b>Price:</b> {price} dkk\r\n        </p>\r\n        <div className=\"cupcake-line\">\r\n          <div className=\"line-left\"></div>\r\n          <img src={cupcakeImagePath} alt=\"cupcake\" className=\"cupcake-img\" />\r\n          <div className=\"line-right\"></div>\r\n        </div>\r\n        <h2>Review</h2>\r\n        <p>\r\n          <Rater rating={stars} total={5} interactive={false} />\r\n        </p>\r\n        <p>{review_description}</p>\r\n      </section>\r\n    </div>\r\n    <div className=\"cakes-line\">\r\n      <div className=\"line-left\"></div>\r\n      <img src={cakesImagePath} alt=\"thre cakes\" className=\"cakes-img\" />\r\n      <div className=\"line-right\"></div>\r\n    </div>\r\n    <section className=\"form-container\">\r\n      <div className=\"description\">\r\n        <p>\r\n          Please contact me if you would like to order or discuss a celebration\r\n          cake design. Let me help you make your own happy memories by me\r\n          creating the perfect cake for you. Every cake I create with a little\r\n          bit of love given by me.\r\n        </p>\r\n      </div>\r\n      <AddReservationForm onSubmit={onSubmit} />\r\n    </section>\r\n  </>\r\n);\r\n\r\nexport const BookingPage = () => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [meals, setMeals] = useState();\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await fetch(\"/api/meals/\" + id);\r\n      const result = await response.json();\r\n      setMeals(result);\r\n    })();\r\n  }, [id]);\r\n  const onSubmit = ({\r\n    first_name,\r\n    last_name,\r\n    email,\r\n    country_code,\r\n    phone,\r\n    number_of_guests,\r\n  }) => {\r\n    fetch(\"/api/reservations/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        first_name: first_name,\r\n        last_name: last_name,\r\n        email: email,\r\n        country_code: country_code,\r\n        phone: phone,\r\n        number_of_guests: number_of_guests,\r\n        meal_id: id,\r\n      }),\r\n    })\r\n      .then(() => {\r\n        history.push(\"/thank\");\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"booking-container\">\r\n      {meals &&\r\n        meals.map((m) => (\r\n          <CakeWithReviews key={m.id} {...m} onSubmit={onSubmit} />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}